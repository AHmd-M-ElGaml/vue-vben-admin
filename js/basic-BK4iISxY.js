var E=Object.defineProperty;var M=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var I=(o,a,e)=>a in o?E(o,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[a]=e,w=(o,a)=>{for(var e in a||(a={}))T.call(a,e)&&I(o,e,a[e]);if(M)for(var e of M(a))z.call(a,e)&&I(o,e,a[e]);return o};var y=(o,a,e)=>new Promise((l,s)=>{var c=r=>{try{f(e.next(r))}catch(t){s(t)}},p=r=>{try{f(e.throw(r))}catch(t){s(t)}},f=r=>r.done?l(r.value):Promise.resolve(r.value).then(c,p);f((e=e.apply(o,a)).next())});import{b as W}from"./index-BOoiXNm7.js";import{aR as V,b2 as D,bz as O,bp as U,bL as Z,aS as P,aW as q,aV as R}from"./bootstrap-C1Y1LMq6.js";import{_ as H}from"./login.vue_vue_type_script_setup_true_lang-kNGmCpbx.js";import{P as b,ax as G,am as J,n as j,a0 as Q,a4 as C,a_ as F,a$ as Y,Y as N,J as k,av as K,ab as A,x as m,ac as g,a7 as i,a8 as X,bR as L,a1 as S,aa as ee}from"../jse/index-index-RotN9dte.js";import{u as ae,_ as te,N as oe,a as ne,b as se}from"./layout.vue_vue_type_script_setup_true_lang-CSlzU66J.js";import{_ as re}from"./avatar.vue_vue_type_script_setup_true_lang-ppYyYa-Y.js";import{C as ie}from"./use-vben-form-XQLaRSLa.js";import"./index-Dzf9Ehml.js";import"./auth-title-C4ZAuHYP.js";import"./theme-toggle.vue_vue_type_script_setup_true_lang-qqrcHyST.js";import"./TabsList.vue_vue_type_script_setup_true_lang-CKMOEkaj.js";import"./render-content.vue_vue_type_script_lang-aNSTG-E6.js";import"./rotate-cw-DOh3yie4.js";const le=V("book-open-text",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]]),d=b(),$=b(!1),_=b({advancedStyle:{colorStops:[{color:"gray",offset:0},{color:"gray",offset:1}],type:"linear"},content:"",contentType:"multi-line-text",globalAlpha:.25,gridLayoutOptions:{cols:2,gap:[20,20],matrix:[[1,0],[0,1]],rows:2},height:200,layout:"grid",rotate:30,width:160});function ce(){function o(l){return y(this,null,function*(){var c;const{Watermark:s}=yield Q(()=>y(null,null,function*(){const{Watermark:p}=yield import("./index.esm-DCgfxJEb.js");return{Watermark:p}}),[]);_.value=w(w({},_.value),l),d.value=new s(_.value),yield(c=d.value)==null?void 0:c.create()})}function a(l){return y(this,null,function*(){var s;d.value?(yield j(),yield(s=d.value)==null?void 0:s.changeOptions(w(w({},_.value),l))):yield o(l)})}function e(){d.value&&(d.value.destroy(),d.value=void 0)}return $.value||($.value=!0,G(()=>{e()})),{destroyWatermark:e,updateWatermark:a,watermark:J(d)}}const ue=C({name:"LoginExpiredModal",__name:"login-expired-modal",props:F({avatar:{default:""},zIndex:{default:0},codeLoginPath:{},forgetPasswordPath:{},loading:{type:Boolean},qrCodeLoginPath:{},registerPath:{},showCodeLogin:{type:Boolean},showForgetPassword:{type:Boolean},showQrcodeLogin:{type:Boolean},showRegister:{type:Boolean},showRememberMe:{type:Boolean},showThirdPartyLogin:{type:Boolean},subTitle:{},title:{},submitButtonText:{}},{open:{type:Boolean},openModifiers:{}}),emits:["update:open"],setup(o){const a=o,e=Y(o,"open"),[l,s]=ae();N(()=>e.value,t=>{s.setState({isOpen:t})});const c=k(()=>a.zIndex||r()),p=["ant-message","loading"];function f(t){return p.some(h=>t.classList.contains(h))}function r(){let t=0;return[...document.querySelectorAll("*")].forEach(x=>{const n=window.getComputedStyle(x).getPropertyValue("z-index");n&&!Number.isNaN(Number.parseInt(n))&&!f(x)&&(t=Math.max(t,Number.parseInt(n)))}),t+1}return(t,h)=>(A(),K("div",null,[m(i(l),{closable:!1,"close-on-click-modal":!1,"close-on-press-escape":!1,footer:!1,"fullscreen-button":!1,header:!1,"z-index":c.value,class:"border-none px-10 py-6 text-center shadow-xl sm:w-[600px] sm:rounded-2xl md:h-[unset]"},{default:g(()=>[m(i(re),{src:t.avatar,class:"mx-auto mb-6 size-20"},null,8,["src"]),m(i(D),{"show-forget-password":!1,"show-register":!1,"show-remember-me":!1,"sub-title":t.$t("authentication.loginAgainSubTitle"),title:t.$t("authentication.loginAgainTitle")},{default:g(()=>[X(t.$slots,"default")]),_:3},8,["sub-title","title"])]),_:3},8,["z-index"])]))}}),Be=C({__name:"basic",setup(o){const a=b([{avatar:"https://avatar.vercel.sh/vercel.svg?text=VB",date:"3 hours ago",isRead:!0,message:"Description information description information description information",title:"Received 14 new weekly reports"},{avatar:"https://avatar.vercel.sh/1",date:"Just now",isRead:!1,message:"Description information description information description information",title:"Zhu Pianyou replied to you"},{avatar:"https://avatar.vercel.sh/1",date:"2024-01-01",isRead:!1,message:"Description information description information description information",title:"Qu Lili commented on you"},{avatar:"https://avatar.vercel.sh/satori",date:"1 day ago",isRead:!1,message:"Description information description information description information",title:"To-do reminder"}]),e=O(),l=U(),s=Z(),{destroyWatermark:c,updateWatermark:p}=ce(),f=k(()=>a.value.some(n=>!n.isRead)),r=k(()=>[{handler:()=>{L(q,{target:"_blank"})},icon:le,text:P("ui.widgets.document")},{handler:()=>{L(R,{target:"_blank"})},icon:W,text:"GitHub"},{handler:()=>{L(`${R}/issues`,{target:"_blank"})},icon:ie,text:P("ui.widgets.qa")}]),t=k(()=>{var n,u;return(u=(n=e.userInfo)==null?void 0:n.avatar)!=null?u:S.app.defaultAvatar});function h(){return y(this,null,function*(){yield l.logout(!1)})}function x(){a.value=[]}function B(){a.value.forEach(n=>n.isRead=!0)}return N(()=>S.app.watermark,n=>y(null,null,function*(){var u,v;n?yield p({content:`${(u=e.userInfo)==null?void 0:u.username} - ${(v=e.userInfo)==null?void 0:v.realName}`}):c()}),{immediate:!0}),(n,u)=>(A(),ee(i(se),{onClearPreferencesAndLogout:h},{"user-dropdown":g(()=>{var v;return[m(i(ne),{avatar:t.value,menus:r.value,text:(v=i(e).userInfo)==null?void 0:v.realName,description:"ahmd.m.elgaml@gmail.com","tag-text":"Pro",onLogout:h},null,8,["avatar","menus","text"])]}),notification:g(()=>[m(i(oe),{dot:f.value,notifications:a.value,onClear:x,onMakeAll:B},null,8,["dot","notifications"])]),extra:g(()=>[m(i(ue),{open:i(s).loginExpired,"onUpdate:open":u[0]||(u[0]=v=>i(s).loginExpired=v),avatar:t.value},{default:g(()=>[m(H)]),_:1},8,["open","avatar"])]),"lock-screen":g(()=>[m(i(te),{avatar:t.value,onToLogin:h},null,8,["avatar"])]),_:1}))}});export{Be as default};
